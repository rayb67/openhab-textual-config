// Die nachfolgende Rule "EventCivilDawn END" ist fuer einen kurne Zeitraum am morgen relevant,
// wenn der Bewegungsmelder aktiv ist und licht an macht, dann aber die 
// Lichtstaerke so hoch wird, das das ausschalten nicht mehr passiert.
// So am 8.2.23 um 7:16 Uhr ...oder Anfang Oktober
rule "EventCivilDawnEND"	// Morgendaemmerung Ende
when
    Channel 'astro:sun:local:civilDawn#event' triggered END
then
    logInfo("astro", "Channel 'astro:sun:home:civilDawn#event' triggered END")
    logInfo("astro", "Morgendaemmerung END")
    logDebug("astro", "weather_illumination : "+ weather_illumination.state)
    logDebug("astro", "astro_Elevation      : "+ astro_Elevation.state)
end

rule "EventCivilDawnStart"	// Morgendaemmerung Start
when
    Channel 'astro:sun:local:civilDawn#event' triggered START
then
    logDebug("astro", "Channel 'astro:sun:home:civilDawn#event' triggered START")
    logInfo("astro", "Morgendaemmerung Start")
    logDebug("astro", "weather_illumination : "+ weather_illumination.state)
    logDebug("astro", "astro_Elevation      : "+ astro_Elevation.state)
end

rule "EventRise"
when
	Channel 'astro:sun:local:rise#event' triggered START
then
    logDebug("astro", "Channel 'astro:sun:local:rise#event' triggered START")
    logInfo("astro", "Sonnenaufgang Start")
	Oh_Status_Nacht.postUpdate(OFF)
end

rule "EventMorgens_0615"
when
    Channel 'astro:sun:sunrise_0615:set#event' triggered START
then
    logInfo("astro", "Channel 'astro:sun:sunrise_0615:set#event' triggered START")
    logDebug("astro", "weather_illumination : "+ weather_illumination.state)
    logDebug("astro", "astro_Elevation      : "+ astro_Elevation.state)
end

rule "EventMisc10"
when
    Channel 'astro:sun:local:set#event' triggered START
then
	logDebug("astro", "Channel 'astro:sun:local:set#event' triggered START")
end

rule "EventMisc7"
when
	Channel 'astro:sun:sunset_15:set#event' triggered START
then
	logInfo("astro", "7 Channel 'astro:sun:sunset_15:set#event' triggered START")
    logDebug("astro", "7 weather_illumination : "+ weather_illumination.state)
    logDebug("astro", "7 astro_Elevation      : "+ astro_Elevation.state)
end

rule "EventMisc3"
when
	Channel 'astro:sun:sunset_30:set#event' triggered START
then
	logInfo("astro", "3 Channel 'astro:sun:sunset_30:set#event' triggered START")
    logDebug("astro", "3 weather_illumination : "+ weather_illumination.state)
    logDebug("astro", "3 astro_Elevation      : "+ astro_Elevation.state)
end

rule "EventMisc2"
when
	Channel 'astro:sun:sunset_60:set#event' triggered START
then
	logInfo("astro", "2 Channel 'astro:sun:sunset_60:set#event' triggered START")
    logDebug("astro", "2 weather_illumination : "+ weather_illumination.state)
    logDebug("astro", "2 astro_Elevation      : "+ astro_Elevation.state)
end

rule "EventMisc4"
when
	Channel 'astro:sun:local:eveningNight#event' triggered START
then
	logInfo("astro", "4 Channel astro:sun:local:eveningNight triggered START")
    logDebug("astro", "4 weather_illumination : "+ weather_illumination.state)
    logDebug("astro", "4 astro_Elevation      : "+ astro_Elevation.state)
end

rule "EventMisc1"
when
	Channel 'astro:sun:local:night#event' triggered START
then
	logInfo("astro", "1 Channel 'astro:sun:local:night#event' triggered START")
    logDebug("astro", "1 weather_illumination : "+ weather_illumination.state)
    logDebug("astro", "1 astro_Elevation      : "+ astro_Elevation.state)
end



rule "EventMisc5"
when
	Channel 'astro:sun:sunset_120:set#event' triggered START
then
	logInfo("astro", "5 Channel 'astro:sun:sunset_90:set#event' triggered START")
    logDebug("astro", "5 weather_illumination : "+ weather_illumination.state)
    logDebug("astro", "5 astro_Elevation      : "+ astro_Elevation.state)
end

rule "Astro Abenddammerung start"
when
    Channel 'astro:sun:local:civilDusk#event' triggered START
then
    logInfo("astro","Astro Abenddammerung start")
	Oh_Status_Nacht.postUpdate(ON)
end

rule "Astro Abenddammerung ende"
when
    Channel 'astro:sun:local:civilDusk#event' triggered END
then
    logInfo("astro","Astro Abenddammerung end")
end

rule "Astro daylight Start"
when
    Channel 'astro:sun:local:daylight#event' triggered START
then
    logInfo("astro","Astro daylight Start")
end

rule "Astro daylight Ende"
when
    Channel 'astro:sun:local:daylight#event' triggered END
then
    logInfo("astro","Astro daylight Ende")
end
